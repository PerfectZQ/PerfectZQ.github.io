---
layout: post
title: Hadoop搭建
tag: Hadoop
---

## 搭建前的准备
　　本次搭建Hadoop版本是hadoop3.0.0-release，[点击下载安装包](http://www.apache.org/dyn/closer.cgi/hadoop/common/hadoop-3.0.0/hadoop-3.0.0.tar.gz)。

　　伪分布式集群搭建参考，[官方文档](http://hadoop.apache.org/docs/r3.0.0/hadoop-project-dist/hadoop-common/SingleCluster.html)

## 搭建过程
1. 新建hadoop用户
```shell
useradd hadoop
# 为hadoop用户分配sudo权限
visudo
# 添加如下内容
hadoop ALL=(ALL)       NOPASSWD: ALL
# 设置hadoop密码
passwd hadoop
```
2. 将下载好的hadoop-3.0.0.tar.gz包解压到`/home/hadoop/`。
```shell
su - hadoop 
tar -zxvf hadoop-3.0.0.tar.gz -C /home/hadoop/
```
3. 配置环境变量。
```shell
vim ~/.bash_profile
export HADOOP_HOME=/home/hadoop/hadoop-3.0.0
export PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin
source ~/.bash_profile
# 配置Hadoop环境变量
vim $HADOOP_HOME/etc/hadoop/hadoop-env.sh
export JAVA_HOME=/usr/java/jdk1.8.0_111/
# 注：mac查找JAVA_HOME的方法
# === 方法1 ===
which java
/usr/bin/java
ls -l /usr/bin/java
lrwxr-xr-x  1 root  wheel  74 12 19 19:56 /usr/bin/java -> /System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/java
cd /System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/
./java_home -V
# 显示如下信息：
Matching Java Virtual Machines (1):
    1.8.0_144, x86_64:	"Java SE 8"	/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home
# 下面这一行就是JAVA_HOME
/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home
# === 方法2 ===
/usr/libexec/java_home -V
```
4. 修改`core-site.xml`。
```shell

```