---
layout: post
title: Ubuntu
tag: Linux
---

## Windows 远程连接 Ubuntu ECS
```shell
# 1. === Connect to remote Ubuntu ECS ===
$ sudo apt-get update
$ sudo apt-get upgrade -f
$ sudo apt-get clean

# Remove
# $ sudo apt-get remove --purge -y vnc4server tightvncserver xrdp xubuntu-desktop

# VNC (Virtual Network Console)
# $ sudo apt-get install -y vnc4server tightvncserver

# Install xrdp
$ sudo apt-get install -y xrdp

# Choose your ubuntu desktop env
$ sudo apt-get install -y xubuntu-desktop
# xrdp doesn't support gnome and unity anymore since ubuntu 13.10, so need xfce4.
$ sudo apt-get install -y xfce4

# Config for current user
$ echo "xfce4-session" > ~/.xsession
# Or you could add to this scripts for all users
$ vim /etc/xrdp/startwm.sh
# ===> Config for all users
echo "xfce4-session" > ~/.xsession

# Start service
$ sudo systemctl enable xrdp
$ sudo systemctl restart xrdp

# Allow xRDP through the local firewall if firewall is active
$ sudo ufw allow 3389/tcp

# 2. === Windows ===
$ Win + R
mstsc
# type Ubuntu's IP
# Xorg -> username & password
```

除了上述方法外，还可以直接使用现成的脚本安装 xrdp，[xRDP Installation Script (free)](http://www.c-nergy.be/products.html)
```shell
$ wget https://www.c-nergy.be/downloads/xrdp-installer-1.1.zip
$ unzip xrdp-installer-1.1.zip
$ chmod +x xrdp-installer-1.1.sh
$ ./xrdp-installer-1.1.sh
```