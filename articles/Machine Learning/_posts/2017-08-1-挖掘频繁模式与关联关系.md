---
layout: post
title: 挖掘频繁模式与关联关系
tag: Machine Learning
---
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>

## 概念

　　**频繁模式**：模式可分为项集、子序列。假设数据库中有100条交易记录，其中80条交易记录中都包含牛奶和面包。牛奶和面包的组合就称为`项集`，频繁出现在数据库记录中的项集，就称为`频繁项集`。而如果项集是有先后顺序的，如先购买 PC 再购买键盘，那么 PC 和键盘的组合就称为`子序列`，同理频繁出现在数据库中的子序列就是`频繁子序列`。频繁项集和频繁子序列统称为频繁模式。

　　**关联规则**：在项集`A={面包,牛奶}`中，买面包的人也会买牛奶就是一对关联关系，关联关系表示为`面包=>牛奶[support=60%,confidence=80%]`。其中`support`是支持度，`confidence`是置信度。

　　**支持度**：在所有交易记录中，包含面包和牛奶的交易记录占交易记录总数的百分比，即 \\(P( 面包 \cup 牛奶 ) \\) 。

　　**置信度**：在所有交易记录中，包含面包的情况下包含牛奶的概率，即 \\( P( 牛奶 \| 面包 ) = \frac{ P( 面包 \cup 牛奶 ) }{ P( 面包 ) } \\)

　　**最小支持度阈值**：支持度超过最小支持度阈值的项集称为`频繁项集`。 

　　**最小置信度阈值**：满足最小支持度和最小置信度的关联规则成为`强关联规则`。

　　对于频繁项集挖掘，如果最小支持度计数设置的过小的话，会导致频繁项集过多，导致计算机无法处理。因为`一个频繁项集的子集肯定也是频繁项集`。一个长度为100的频繁项集，就会产生\\(C_{100}^{1}\\)个频繁一项集，\\(C_{100}^{2}\\)个频繁二项集... \\(C_{100}^{1} + C_{100}^{2} + ... + C_{100}^{100} = 2^{100}-1 \approx 1.27 * 10^{30} \\)个频繁子项集。因此提出了`闭频繁项集`和`极大频繁项集`的概念。

　　**闭频繁项集**：对于项集X和项集Y，如果X是Y的真子集，不存在真超项集Y和项集X的支持度计数相等。那么称项集X是`闭的`，如果项集X是频繁项集，则X称为闭频繁项集。

　　**极大频繁项集**：对于频繁项集X，X是Y的子集，不存在超项集Y是频繁项集，那么项集X称为极大频繁项集。

## Apriori