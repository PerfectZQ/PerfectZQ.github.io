<!-- gitment 评论 -->
<section class="post-comments">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
    <!-- or -->
    <!--
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    -->
    <div id="gitalk-container"></div>
    <script>
        // 生成 uuid
        function uuid(len, radix) {
            var chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');
            var uuid = [], i;
            radix = radix || chars.length;

            if (len) {
                // Compact form
                for (i = 0; i < len; i++) uuid[i] = chars[0 | Math.random() * radix];
            } else {
                // rfc4122, version 4 form
                var r;

                // rfc4122 requires these characters
                uuid[8] = uuid[13] = uuid[18] = uuid[23] = '-';
                uuid[14] = '4';

                // Fill in random data.  At i==19 set the high bits of clock sequence as
                // per rfc4122, sec. 4.1.5
                for (i = 0; i < 36; i++) {
                    if (!uuid[i]) {
                        r = 0 | Math.random() * 16;
                        uuid[i] = chars[(i == 19) ? (r & 0x3) | 0x8 : r];
                    }
                }
            }

            return uuid.join('');
        }

        const gitalk = new Gitalk({
            clientID: 'dc80d4614cbc22815905',
            clientSecret: '7885c51effe60bb458d955dfb27cf69d01c9923b',
            repo: 'blog_comments',
            owner: 'PerfectZQ',
            admin: ['PerfectZQ'],
            // Ensure uniqueness and length less than 50
            // 默认 id: location.pathname ，但是会因为域名太长而出现 Error: Validation Failed
            id: uuid(50, 32),
            distractionFreeMode: false  // Facebook-like distraction free mode
        });

        gitalk.render('gitalk-container')
    </script>
</section>